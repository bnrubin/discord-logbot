<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
{% from 'bootstrap5/form.html' import render_form %}

<head>
<title>GBI Image Viewer</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous" sync></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D" crossorigin="anonymous" sync></script>
<script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>
<script src="static/custom.js"></script>
</head>
<body>
		<header class="py-3 mb-3 border-bottom">
			<div class="container-fluid d-grid gap-3 align-items-center" style="grid-template-columns: 1fr 2fr;">
				<a class="bi-house-fill" style="font-size: 2rem;" href="/"></a>
				{{ render_form(form) }}
				</div>
			</div>
		</header>


	<main class="container py-5">
{{ pagination.links }}
<!---

	<nav aria-label="...">
  <ul class="pagination">
    <li class="page-item {% if page == 1 %}disabled{% endif %}">
	<a class="page-link" href="/?page={{ page - 1 }}&query={{ query }}">Previous</a>
    </li>
      
    {% for num in range(1, total_pages + 1) %}
    <li class="page-item"><a class="page-link {% if num == page %}active{% endif %}" href="/?page={{ num }}&query={{ query }}">{{ num }}</a></li>
    {% endfor %}
    <li class="page-item {% if page  == total_pages %}disabled{% endif %}">
	<a class="page-link" href="/?page={{ page + 1 }}&query={{ query }}">Next</a>
    </li>
  </ul>
</nav>
<div>
-->
{{ count }} results found
</div>
<div class="row" data-masonry='{"percentPosition": true }' id="gallery">
	{% for item in data %}
	<div class="col-sm-6 col-lg-4 mb-4">
	<div class="card">
		<a href="/images/{{item.filename}}" data-toggle="lightbox">
			<img src="/images/{{item.filename}}" class="card-img-top" width="75%">
		</a>
		<div class="card-body">
		<p class="card-text">{{ item.prompt }}</p>
		</div>
	<div class="card-footer">
		<small class="text-body-secondary">{{ item.user.display }}</small>
	</div>
	</div>
	</div>
	{% endfor %}
</div>
</div>
<!--
<nav aria-label="...">
  <ul class="pagination">
    <li class="page-item {% if page == 1 %}disabled{% endif %}">
	<a class="page-link" href="/?page={{ page - 1 }}&query={{ query }}">Previous</a>
    </li>
    {% for num in range(1, total_pages + 1) %}
    <li class="page-item"><a class="page-link {% if num == page %}active{% endif %}" href="/?page={{ num }}&query={{ query }}">{{ num }}</a></li>
    {% endfor %}
    <li class="page-item {% if page  == total_pages %}disabled{% endif %}">
	<a class="page-link" href="/?page={{ page + 1 }}&query={{ query }}">Next</a>
    </li>
  </ul>
</nav>
-->
{{ pagination.links }}

	</main>
</body>
</html>
